// components.js - Locker Components với SVG Design Mới

// Locker Item Component
class LockerItem {
  constructor(config) {
    this.width = config.width || '125px';
    this.height = config.height || '108px';  // Đổi từ 115px → 108px
    this.left = config.left || '0';
    this.top = config.top || '0';
    this.partNumber = config.partNumber || 1;
    this.points = config.points || 1000;
    this.status = config.status || 'available';
  }
  generateFrameSVG() {
    // ===== LOGIC MÀU =====
    // Border color - viền ngoài
    const fillColor = this.status === 'available' ? '#35FFBF' :     // Xanh cyan
                      this.status === 'occupied' ? '#FF3535' :      // Đỏ
                      this.status === 'reserved' ? '#FFA500' :      // Cam
                      '#35FFBF';                                    // Mặc định xanh
    
    // Background color - nền bên trong
    const bgFillColor = this.status === 'available' ? '#87FFB9' :   // Xanh lá (ItemLocker.svg)
                        '#DBDBDB';                                  // Xám (ItemLocker_none.svg) cho tất cả status khác
    
    // ===== SVG MỚI =====
    return `
      <svg width="125" height="108" viewBox="0 0 125 108" fill="none" xmlns="http://www.w3.org/2000/svg" class="absolute left-11 top-0" preserveAspectRatio="none">
        <g filter="url(#filter0_if_${this.partNumber})">
          <path d="M81.8979 4.49121L94.3274 16.9602H113.928L119.665 21.3619V98.0136L113.928 102.781H14.0134L6.36439 95.5487L4.45215 4.49121H81.8979Z" 
                fill="${fillColor}" fill-opacity="0.5"/>
          <path d="M119.17 94.132C119.157 91.8485 119.171 88.855 119.19 86.5801C119.196 85.8671 119.222 86.2281 119.227 85.736C119.238 84.7734 119.225 83.8766 119.237 82.9253C119.241 82.6101 119.283 83.0025 119.287 82.672C119.305 80.8605 119.295 79.1469 119.303 77.3119C119.347 68.2733 119.363 59.3887 119.382 50.2395C119.389 47.2228 119.427 43.5556 119.41 40.4397C119.408 40.0759 119.371 40.2928 119.368 40.2236C119.322 39.1382 119.396 39.4991 119.406 38.7903C119.445 35.9774 119.448 32.8495 119.434 30.1424C119.428 28.9907 119.355 30.1454 119.396 28.9858C119.399 28.9053 119.438 29.1975 119.442 28.8817C119.451 28.1654 119.444 26.8065 119.447 26.2514C119.454 25.1816 119.453 25.0046 119.454 23.9926C119.454 23.1778 119.461 22.2721 119.465 21.3619L119.543 21.5202C119.041 21.1316 118.536 20.7428 118.05 20.3744C117.797 20.1831 118.106 20.4702 117.701 20.1681C117.295 19.8657 116.236 19.0486 115.884 18.7665C115.532 18.4844 115.704 18.5763 115.645 18.522C115.206 18.1161 114.116 17.3603 113.796 17.1323L113.928 17.1772C113.887 17.1787 113.856 17.1796 113.837 17.1798C110.207 17.2154 107.094 17.1673 103.686 17.1674C101.099 17.1676 98.333 17.1835 95.8715 17.1813C95.3439 17.1808 94.8308 17.1797 94.3274 17.1783L94.173 17.1141C92.5577 15.4843 91.0908 13.9928 89.4391 12.3402C89.2266 12.1275 89.4419 12.4104 89.1823 12.1506C86.6828 9.65028 84.2052 7.15953 81.7384 4.65022L81.8979 4.71644C81.5335 4.71391 81.1691 4.71116 80.8046 4.70817C80.415 4.70494 80.9171 4.66353 80.5279 4.65782C78.1448 4.62379 74.3741 4.54203 72.9588 4.72233C71.3446 4.71529 69.3848 4.70802 67.9407 4.67167C67.0096 4.64828 67.914 4.60317 66.7702 4.62242C66.5122 4.62671 66.8477 4.66622 66.4608 4.66966C64.832 4.68412 63.0525 4.67128 61.4412 4.69169C61.1134 4.69594 61.2029 4.73134 61.1101 4.73771C60.3296 4.78934 59.0304 4.704 58.7472 4.6978C56.5904 4.65155 55.0154 4.66975 53.0062 4.66862C52.54 4.66834 53.0911 4.71589 52.6425 4.71733C50.3156 4.72414 47.9052 4.72006 45.6268 4.69896C45.12 4.69415 45.5861 4.65364 45.3439 4.64927C44.276 4.6305 44.0393 4.707 43.0152 4.69047C42.7993 4.68709 42.9209 4.65241 42.8815 4.6486C42.2651 4.58882 41.7296 4.67353 41.571 4.6754C39.5655 4.70095 38.2836 4.61252 36.3462 4.62504C36.1144 4.62663 36.6371 4.67051 35.9855 4.67228C31.645 4.6844 27.0544 4.67234 22.7579 4.63725C22.0899 4.63185 22.5668 4.59889 22.5248 4.59483C21.8396 4.53135 21.3963 4.61641 21.1785 4.61961C19.4602 4.64267 17.855 4.57134 16.6874 4.67265C12.5989 4.6529 8.52083 4.6622 4.45215 4.65805L4.61895 4.48771C4.68234 7.6604 4.73743 10.8276 4.76406 13.9902C4.76494 14.082 4.7196 13.9184 4.72153 14.1015C4.7443 16.3059 4.8005 15.8813 4.91074 17.3379C4.93844 17.7048 4.86579 18.8243 4.86083 18.9234C4.84243 19.2841 4.77227 18.9118 4.76978 19.0326C4.75126 20.0316 4.95391 19.8646 4.98225 21.2112C4.98279 21.2533 4.94115 21.0772 4.93975 21.1903C4.93528 21.5416 4.95767 21.8895 4.95183 22.2334C4.93813 23.0204 4.84388 23.3026 4.92738 24.5025C4.93814 24.6543 5.05015 24.4197 5.06988 25.6221C5.07764 26.1014 5.1242 28.2229 5.12911 28.8177C5.13401 29.4117 5.08778 29.0048 5.08704 29.0471C5.07084 30.6483 5.03745 30.042 4.98055 30.8453C4.92392 31.6484 5.09447 31.4224 5.12089 31.7488C5.14726 32.0758 5.1308 33.2498 5.12257 33.5385C5.11433 33.8269 5.08285 33.468 5.08014 33.7244C5.06298 35.4245 5.18277 34.4683 5.22234 35.0275C5.3159 36.3459 5.20755 37.3766 5.22019 38.5851C5.22362 38.9121 5.24761 38.6447 5.25649 38.9358C5.29127 40.0885 5.26529 40.7828 5.33001 42.0937C5.34058 42.3082 5.44097 43.367 5.39805 44.0546C5.39183 44.152 5.35364 43.8764 5.35671 44.368C5.36124 45.1022 5.38194 46.425 5.40933 47.2139C5.42958 47.7963 5.46891 47.1274 5.46773 47.861C5.46718 48.1871 5.42328 47.5837 5.42484 48.1962C5.42633 48.8055 5.4604 50.3626 5.47392 50.9551C5.48744 51.5466 5.52112 51.222 5.52485 51.2697C5.54654 51.5586 5.5899 52.6933 5.59195 52.7936C5.70315 57.8531 5.73291 62.5203 5.85894 67.4459C5.86877 67.8325 5.90604 67.5741 5.90798 67.633C5.95366 68.9561 5.81827 67.9151 5.7997 68.8404C5.88351 68.7049 5.87929 69.251 5.90836 70.183C5.92244 70.6322 5.95084 70.3868 5.95514 70.4277C6.02006 71.0929 5.96401 71.5582 5.95306 71.6779C5.91282 72.1201 5.9814 72.5991 5.95461 72.9C5.92807 73.2008 5.86487 72.5112 5.88427 73.4053C5.92054 73.6553 5.98762 72.9899 6.01501 73.6684C6.11846 76.2285 6.1553 81.0108 6.19194 83.0702C6.2285 85.1255 6.24816 85.7892 6.26211 86.987C6.28728 89.1507 6.33074 88.3567 6.38646 89.6993C6.44226 91.0458 6.28061 90.394 6.25288 90.5883C6.22509 90.7791 6.26216 90.986 6.24966 91.2228C6.23714 91.4589 6.20481 90.9491 6.20989 91.5035C6.21498 92.0583 6.30337 93.5735 6.34074 93.7694C6.4199 94.1835 6.47948 93.4986 6.48432 94.9667C6.48455 95.0511 6.43991 94.7781 6.44277 95.1013C6.44415 95.2495 6.44563 95.3981 6.44721 95.5469L6.4213 95.4885C8.16917 97.1761 9.98915 98.9013 11.7277 100.58C11.9813 100.825 11.7225 100.639 11.8698 100.782C13.4038 102.271 12.8988 101.693 13.8056 102.439C13.6617 102.383 13.7211 102.503 13.9937 102.802L14.0134 102.81C14.3537 102.835 14.8919 102.849 15.634 102.85C16.6091 102.85 16.4412 102.803 17.0719 102.77C17.2612 102.76 17.9512 102.792 18.0762 102.77C18.4885 102.698 17.8386 102.617 19.511 102.649C19.5844 102.65 19.3508 102.69 19.6043 102.692C21.2432 102.708 21.4393 102.632 23.2108 102.623C24.5994 102.616 27.0691 102.662 28.6502 102.67C28.6169 102.791 30.1104 102.763 30.7162 102.68C31.7423 102.683 32.8506 102.678 33.8423 102.69C34.1837 102.694 33.9594 102.729 34.0025 102.733C34.6625 102.792 35.1086 102.711 35.33 102.708C37.7306 102.677 39.6863 102.738 41.9773 102.678C42.0586 102.676 42.1903 102.592 42.8027 102.653C42.8424 102.657 42.0857 102.696 43.1634 102.699C44.2412 102.702 46.2731 102.747 47.7695 102.708C48.1316 102.698 49.0475 102.63 49.7826 102.683C49.8806 102.691 49.7734 102.715 49.9148 102.728C50.3718 102.771 50.6213 102.686 51.1584 102.758C51.6955 102.831 52.8128 102.885 54.3219 102.835C54.37 102.833 54.7272 102.766 55.2018 102.767C55.9594 102.769 57.0348 102.783 57.8258 102.782C58.2046 102.782 57.9622 102.74 58.0279 102.74C60.5745 102.716 62.387 102.753 65.1151 102.77C65.6152 102.773 67.0524 102.716 68.0205 102.761C69.0836 102.81 67.9912 103.016 70.4347 102.967C71.4203 102.947 72.6681 102.686 74.4392 102.821C77.8743 102.788 81.051 102.857 84.4956 102.809C84.6505 102.807 85.1403 102.734 85.5045 102.735C86.0451 102.737 86.3419 102.771 86.7279 102.773C88.3455 102.784 89.8257 102.754 91.3853 102.759C91.9774 102.761 91.7704 102.796 92.4766 102.798C93.1824 102.8 93.653 102.753 94.6094 102.776C95.3318 102.793 96.054 102.888 97.0127 102.899C97.0493 102.805 97.7078 102.807 98.8782 102.782C99.1032 102.778 98.8619 102.745 98.9684 102.741C99.4015 102.724 99.8023 102.751 100.214 102.733C100.314 102.729 100.318 102.697 100.4 102.691C101.096 102.644 102.241 102.716 102.438 102.729C103.192 102.776 103.545 102.735 104.123 102.753C104.701 102.772 103.837 102.795 104.512 102.807C105.91 102.83 107.707 102.825 109.127 102.827C109.694 102.827 109.307 102.784 109.388 102.783C110.56 102.773 111.745 102.818 112.395 102.733C113.036 102.906 113.105 102.793 113.928 102.759L113.913 102.764C114.077 102.616 114.286 102.438 114.564 102.219C114.668 102.138 114.863 102.11 114.483 102.446C114.345 102.568 114.176 102.707 113.991 102.858L113.928 102.881C113.512 102.877 113.039 102.87 112.592 102.885C112.426 102.89 111.473 102.988 111.343 102.993C110.324 103.039 110.179 102.884 110.125 102.876C109.514 102.784 108.349 102.889 108.042 102.896C106.639 102.929 105.446 102.907 104.272 102.931C103.505 102.946 103.43 103.048 102.827 103.045C100.823 103.034 100.123 102.893 98.2346 103.016C97.8297 103.042 98.2321 103.153 96.7811 103.066C96.69 103.06 95.6127 102.98 94.9903 103.031C94.9121 103.037 94.9146 103.069 94.8115 103.072C94.1206 103.09 93.6598 103.064 92.9072 103.076C92.1546 103.089 91.2497 103.107 90.3904 103.096C89.8726 103.09 89.2081 103.029 88.9602 103.014C88.2603 102.972 87.5098 103.042 87.0761 102.99C86.6388 102.938 87.4937 102.86 86.347 102.826C86.3046 102.911 86.207 102.997 86.1387 103.081C83.6258 103.078 81.1532 103.051 78.6318 103.055C78.3192 103.055 78.6389 103.101 78.3038 103.102C76.89 103.11 75.6551 103.077 74.189 103.09C73.054 103.1 71.8096 103.148 70.6228 103.16C69.8979 103.064 68.137 103.097 66.8577 103.088C66.4096 103.085 66.4396 103.059 66.1209 103.051C64.9186 103.02 65.482 103.105 65.1524 103.118C63.7383 103.175 63.6172 102.983 61.95 102.988C61.8617 102.988 60.782 103.09 60.6333 103.097C59.6885 103.138 60.4769 103.061 59.8856 103.053C58.806 103.04 58.0557 103.015 56.789 103.045C56.4196 103.054 55.5335 103.118 54.8162 103.069C54.7219 103.062 54.774 103.028 54.6981 103.026C53.3233 102.993 53.2871 103.1 52.5015 103.136C51.7158 103.172 50.5022 103.098 50.2552 103.077C49.6091 103.022 50.7503 103.054 50.7853 103.048C51.1963 102.984 50.3112 102.995 49.635 102.99C49.537 102.885 48.5913 102.892 48.9339 102.985C48.9728 102.995 49.4991 102.985 49.635 102.99C49.0413 103.092 48.0019 103.105 46.8539 103.01C46.3165 102.965 46.8245 102.912 45.1921 102.932C44.4512 102.94 44.7375 103.012 44.0837 103.032C42.59 103.076 40.6491 103.009 39.1091 103.02C38.5503 103.024 39.0947 103.063 38.7127 103.067C37.6991 103.078 36.8051 103.048 35.7871 103.063C35.6949 103.065 35.9202 103.106 35.6036 103.107C33.2037 103.111 31.114 103.085 28.6082 103.084C27.3975 103.084 25.233 103.107 23.9788 103.102C21.8051 103.094 19.131 103.034 17.274 103.049C16.0629 103.058 16.3286 103.1 15.8097 103.128C15.3078 103.155 14.6124 103.144 14.0134 103.124L13.7777 103.031C13.3577 102.607 13.013 102.242 12.9317 102.155C12.9267 102.15 13.6906 102.859 13.3011 102.461C13.0965 102.207 12.9403 102.163 12.9317 102.155C12.8245 102.04 11.3182 100.603 11.0124 100.325C10.8462 100.173 10.9107 100.288 10.8246 100.209C9.25111 98.7579 7.68572 97.2943 6.11952 95.8076L6.00806 95.5562C5.99567 94.9067 5.98472 94.2557 5.97523 93.6029C5.97497 93.5532 6.02021 93.6271 6.01907 93.5102C6.00417 91.8756 5.92877 90.8303 5.86875 89.4831C5.80875 88.1362 5.79692 87.0672 5.85513 86.2679C5.82434 85.2513 5.82685 83.7918 5.82933 82.9519C5.83181 82.112 5.74435 81.9966 5.74112 81.9228C5.63895 79.6202 5.65964 78.2874 5.61702 75.8972C5.5969 74.7608 5.53723 72.507 5.5021 71.2769C5.47419 70.3047 5.48181 69.7185 5.45026 68.8228C5.44601 68.7017 5.41074 68.8249 5.4085 68.7879C5.34222 67.789 5.44484 68.2676 5.45703 68.0608C5.5014 67.3111 5.5237 66.8479 5.46854 65.5681C5.45586 65.2729 5.30457 64.4153 5.28547 63.8771C5.26089 63.1773 5.31419 63.4405 5.28723 62.7078C5.28496 62.6451 5.25578 62.6587 5.24758 62.2064C5.20912 60.1064 5.17819 57.8168 5.12941 55.6348C5.12286 55.3367 5.08416 55.7199 5.07393 55.2892C5.02595 53.2686 4.98117 51.0536 4.9617 49.0845C4.95705 48.5998 4.99615 48.9029 5.00365 48.7975C5.04887 48.1505 4.94423 47.2364 4.93943 47.0854C4.82269 43.4817 4.84205 40.7214 4.7281 37.0483C4.72174 36.8484 4.59786 35.311 4.66196 34.6226C4.66619 34.5754 4.73226 33.8943 4.66472 33.2946C4.6605 33.2574 4.62803 33.6816 4.61673 32.9427C4.60542 32.2037 4.55283 31.0152 4.57694 29.9986C4.5845 29.6767 4.64868 28.915 4.56466 27.9573C4.55888 27.8948 4.38334 26.4172 4.4719 25.8865C4.48651 25.8005 4.59386 25.888 4.51574 24.7443C4.50067 24.5258 4.48548 24.9234 4.45869 24.3475C4.41751 23.4651 4.42119 22.2947 4.35142 21.2104C4.33913 21.0213 4.25063 20.2171 4.29139 19.5697C4.29777 19.4683 4.33702 19.6599 4.33379 19.3185C4.31861 17.6951 4.25937 15.9962 4.24912 14.3477C4.24542 13.7639 4.30861 14.0611 4.31109 13.4524C4.31355 12.8435 4.30248 11.6173 4.26309 10.9811C4.2237 10.3448 4.14759 11.0424 4.1203 10.0885C4.06686 8.22048 4.03079 6.35998 4.00003 4.50071L4.45215 4.039C6.72067 4.04911 8.9872 4.06712 11.2636 4.0714C11.878 4.07256 11.3687 4.04009 12.2741 4.03947C15.6122 4.03706 21.3755 4.00662 24.2721 4.07561C26.5929 4.13086 23.6723 4.17293 25.4457 4.19542C26.3015 4.20614 27.2274 4.10066 27.434 4.09733C29.4522 4.0636 30.8548 4.11033 32.6713 4.09599C33.0464 4.09302 32.6785 4.05026 32.9977 4.0482C34.0882 4.04079 35.2342 4.05987 36.2762 4.05638C36.7437 4.05472 36.6576 4.02206 37.0877 4.02458C38.117 4.03024 39.0271 4.04396 40.0305 4.07457C40.1219 4.07736 39.5053 4.11798 40.2668 4.11949C41.4992 4.12182 43.029 4.15201 44.4469 4.12083C44.8676 4.11145 44.8841 4.03682 45.7885 4.08836C45.9782 4.09913 45.7362 4.18875 46.7896 4.11131C46.9668 4.09844 48.7364 3.994 49.6049 4.06132C49.834 4.07904 50.4188 4.15238 50.9247 4.14085C50.9933 4.13901 50.7185 4.09893 51.1377 4.09502C52.6152 4.08193 54.1637 4.08621 55.6816 4.07365C56.0869 4.07022 55.4832 4.02874 56.0873 4.02495C57.7487 4.01446 59.8228 4.02502 61.4474 4.03801C62.0463 4.04287 61.6323 4.07724 61.6759 4.08098C62.3767 4.1418 62.7911 4.0597 63.0237 4.05492C64.4704 4.02625 65.5719 4.06482 66.9054 4.05461C67.2734 4.0519 67.0125 4.01275 67.0857 4.00926C67.8454 3.97516 67.2795 4.04546 67.7604 4.05321C69.1075 4.07515 70.6093 4.072 71.9717 4.067C72.4721 4.06511 71.9096 4.01971 72.3587 4.01854C75.0167 4.01072 77.7799 4.01506 80.374 4.04008C80.8624 4.04488 80.5551 4.07983 80.6569 4.08781C81.0341 4.11784 81.5056 4.10971 81.8979 4.09464L82.1787 4.21123C82.4261 4.44103 82.6357 4.62563 82.7153 4.70076C83.4983 5.43928 83.7714 5.75704 84.4462 6.42583C87.6645 9.61456 91.5823 13.5715 94.6359 16.6527L94.3274 16.5247C94.4335 16.525 94.5388 16.5253 94.6434 16.5256C100.352 16.5418 104.782 16.5751 110.226 16.5665C110.572 16.566 110.223 16.5195 110.521 16.5184C111.661 16.5151 112.795 16.5144 113.928 16.5146L114.199 16.6067C116.11 18.0733 118.01 19.5381 119.936 21.0083L120.11 21.3619C120.111 21.6493 120.112 21.937 120.113 22.2251C120.114 22.5418 120.158 22.0853 120.161 22.5936C120.168 23.636 120.165 24.9565 120.151 26.0104C120.144 26.5245 120.107 25.835 120.101 26.3524C120.086 27.5573 120.083 28.8489 120.09 30.0864C120.093 30.6131 120.139 29.8185 120.139 30.5031C120.144 35.1662 120.151 39.7459 120.093 44.4582C120.089 44.7812 119.997 45.0647 120.015 45.7516C120.04 45.8033 120.07 45.8005 120.097 45.8231C120.112 52.6114 120.08 59.3304 120.075 66.1378C120.075 66.4249 120.124 65.9288 120.124 66.4845C120.123 69.7006 120.136 72.8236 120.088 76.1133C120.083 76.4397 119.998 76.2723 120.011 77.2342C120.013 77.4038 120.025 78.8525 120.043 79.2271C120.046 79.278 120.086 79.0137 120.087 79.4805C120.093 82.1933 120.084 85.0363 120.06 87.7444C120.056 88.1815 120.013 87.7161 120.01 88.0274C119.987 90.2356 120.02 92.6376 119.981 94.7476C119.955 96.1601 119.882 95.6371 119.809 96.3877C119.799 96.4938 119.798 97.3685 119.756 97.4137C119.65 97.5298 119.534 97.1062 119.422 97.28C119.397 97.3167 119.423 98.4881 119.365 97.7945C119.361 97.7461 119.341 96.8969 119.322 96.6877C119.308 96.5421 119.265 96.8045 119.247 96.5074C119.23 96.2103 119.266 95.8838 119.245 95.3912C119.224 94.8989 119.175 95.1154 119.17 94.132ZM5.83984 79.1702C5.86433 78.392 5.71241 78.2805 5.76584 79.1204C5.7686 79.1611 5.83868 79.2103 5.83984 79.1702ZM81.1673 102.938C80.1509 102.872 79.4554 102.969 80.1724 103.02C80.8893 103.071 81.477 102.958 81.1673 102.938ZM91.7071 102.89C90.5192 102.838 90.3322 103.05 91.6045 103.007C91.6785 103.005 91.7766 102.893 91.7071 102.89ZM119.789 92.9071C119.787 92.9178 119.785 93.5465 119.787 93.5615C119.834 93.8963 119.838 92.6391 119.789 92.9071ZM102.166 102.838C101.795 102.809 100.727 102.842 101.188 102.878C101.559 102.907 102.628 102.873 102.166 102.838ZM5.14789 38.6193C5.14986 38.607 5.14241 38.1563 5.13 38.1656C5.09008 38.1971 5.1147 38.824 5.14789 38.6193ZM118.588 98.9787C116.563 100.651 115.226 101.534 117.438 99.7215C117.839 99.3932 116.616 100.478 117.133 100.069C118.079 99.3198 118.624 98.7233 119.609 97.9818C119.787 97.8477 118.704 98.8836 118.584 98.9819C118.585 98.9808 118.587 98.9798 118.588 98.9787ZM6.01002 78.7188C6.01167 78.7032 6.00045 78.0793 5.99817 78.0644C5.94361 77.7276 5.9662 78.9844 6.01002 78.7188ZM4.68813 12.3218C4.69162 12.2873 4.66515 10.8395 4.66028 10.7924C4.5668 10.0388 4.62007 12.9659 4.68813 12.3218ZM28.6751 102.673C29.3559 102.625 30.1703 102.62 30.7131 102.68C30.0365 102.676 29.3554 102.676 28.6751 102.673Z" 
                fill="black"/>
        </g>
        <path d="M10.3644 95.1456L8.45215 7.49121L81.7391 7.66106L92.6944 18.962H112.191L116.016 22.8949V96.6126L112.191 99.9134H15.623L10.3644 95.1456Z" 
              fill="${bgFillColor}"/>
        <path d="M44.6744 19.4912H40.4883L47.3021 9.49121H51.4883L44.6744 19.4912Z" fill="url(#paint0_linear_${this.partNumber})"/>
        <path d="M51.6744 19.4912H47.4883L54.3021 9.49121H58.4883L51.6744 19.4912Z" fill="url(#paint1_linear_${this.partNumber})" fill-opacity="0.44"/>
        <path d="M58.6744 19.4912H54.4883L61.3021 9.49121H65.4883L58.6744 19.4912Z" fill="url(#paint2_linear_${this.partNumber})" fill-opacity="0.3"/>
        <path d="M37.0672 19.4912H32.4883L39.9291 9.49121H44.4883L37.0672 19.4912Z" fill="url(#paint3_linear_${this.partNumber})"/>
        <path d="M30.055 19.4912H25.4883L32.9216 9.49121H37.4883L30.055 19.4912Z" fill="url(#paint4_linear_${this.partNumber})"/>
        <path d="M23.2574 19.4912H11.0471L10.4883 9.49121H29.4883L23.2574 19.4912Z" fill="url(#paint5_linear_${this.partNumber})"/>
        <defs>
          <filter id="filter0_if_${this.partNumber}" x="0" y="0" width="124.165" height="107.16" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="2"/>
            <feGaussianBlur stdDeviation="2.5"/>
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0.528846 0 0 0 0 0.842949 0 0 0 0 1 0 0 0 1 0"/>
            <feBlend mode="normal" in2="shape" result="effect1_innerShadow_${this.partNumber}"/>
            <feGaussianBlur stdDeviation="2" result="effect2_foregroundBlur_${this.partNumber}"/>
          </filter>
          <linearGradient id="paint0_linear_${this.partNumber}" x1="47.9364" y1="9.73792" x2="50.438" y2="20.176" gradientUnits="userSpaceOnUse">
            <stop stop-color="#009EDB"/>
            <stop offset="1" stop-color="#00F6FA" stop-opacity="0.1"/>
          </linearGradient>
          <linearGradient id="paint1_linear_${this.partNumber}" x1="54.9364" y1="9.73792" x2="57.438" y2="20.176" gradientUnits="userSpaceOnUse">
            <stop stop-color="#009EDB"/>
            <stop offset="1" stop-color="#00F6FA" stop-opacity="0.1"/>
          </linearGradient>
          <linearGradient id="paint2_linear_${this.partNumber}" x1="61.9364" y1="9.73792" x2="64.438" y2="20.176" gradientUnits="userSpaceOnUse">
            <stop stop-color="#009EDB"/>
            <stop offset="1" stop-color="#00F6FA" stop-opacity="0.1"/>
          </linearGradient>
          <linearGradient id="paint3_linear_${this.partNumber}" x1="40.6199" y1="6.9463" x2="42.8406" y2="20.042" gradientUnits="userSpaceOnUse">
            <stop stop-color="#009EDB"/>
            <stop offset="1" stop-color="#00F6FA" stop-opacity="0.1"/>
          </linearGradient>
          <linearGradient id="paint4_linear_${this.partNumber}" x1="33.6135" y1="9.73792" x2="35.9267" y2="20.2674" gradientUnits="userSpaceOnUse">
            <stop stop-color="#009EDB"/>
            <stop offset="1" stop-color="#00F6FA" stop-opacity="0.1"/>
          </linearGradient>
          <linearGradient id="paint5_linear_${this.partNumber}" x1="25.6815" y1="9.73792" x2="28.3884" y2="20.0661" gradientUnits="userSpaceOnUse">
            <stop stop-color="#009EDB"/>
            <stop offset="1" stop-color="#00F6FA" stop-opacity="0.1"/>
          </linearGradient>
        </defs>
      </svg>
    `;
  }

  render() {
    return `
      <div class="locker-item" 
          style="width: ${this.width}; height: ${this.height}; position: absolute; left: ${this.left}; top: ${this.top};"
          onclick="showProductList(${this.partNumber})">
        ${this.generateFrameSVG()}
        <p class="absolute left-[55px] top-[6px] text-[10px] font-bold pointer-events-none" 
          style="color: #000; font-weight: 900; text-shadow: 0 0 10px rgba(255, 255, 255, 1), 0 0 5px rgba(255, 255, 255, 0.8);">CASE ${this.partNumber}</p>
        <p class="absolute left-[135px] top-[5px] text-[10px] font-bold text-[#3bd4ff] pointer-events-none">${this.points}</p>
         <p class="absolute left-[0px] top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[48px] font-bold pointer-events-none" 
         style="color: rgba(0, 0, 0, 0.15);">${this.partNumber}</p>
      </div>

    `;
  }
  generateScreenSVG() {
    return `
      <svg width="109" height="213" viewBox="0 0 109 213" fill="none" xmlns="http://www.w3.org/2000/svg" 
          class="absolute" style="left: 45; top: 0; width: 125px; height: 228px;">
        <path d="M0 10C0 4.47716 4.47715 0 10 0H99C104.523 0 109 4.47715 109 10V203C109 208.523 104.523 213 99 213H10C4.47715 213 0 208.523 0 203V10Z" fill="#E8E2E2"/>
        <path d="M3.60327 18.8138C3.60327 13.291 8.08042 8.81384 13.6033 8.81384H95.3967C100.92 8.81384 105.397 13.291 105.397 18.8138V134.693C105.397 140.216 100.92 144.693 95.3967 144.693H13.6033C8.08041 144.693 3.60327 140.216 3.60327 134.693V18.8138Z" fill="black"/>
        <ellipse cx="54.4999" cy="4.77418" rx="3.15289" ry="2.57069" fill="black"/>
        <path d="M24.3223 156.976C24.3223 155.871 25.2177 154.976 26.3223 154.976H34.5629C35.6675 154.976 36.5629 155.871 36.5629 156.976V162.956C36.5629 164.061 35.6675 164.956 34.5629 164.956H26.3223C25.2177 164.956 24.3223 164.061 24.3223 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M24.3223 169.808C24.3223 168.703 25.2177 167.808 26.3223 167.808H34.5629C35.6675 167.808 36.5629 168.703 36.5629 169.808V175.788C36.5629 176.893 35.6675 177.788 34.5629 177.788H26.3223C25.2177 177.788 24.3223 176.893 24.3223 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M24.3223 182.64C24.3223 181.535 25.2177 180.64 26.3223 180.64H34.5629C35.6675 180.64 36.5629 181.535 36.5629 182.64V188.62C36.5629 189.725 35.6675 190.62 34.5629 190.62H26.3223C25.2177 190.62 24.3223 189.725 24.3223 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M24.3223 195.471C24.3223 194.367 25.2177 193.471 26.3223 193.471H34.5629C35.6675 193.471 36.5629 194.367 36.5629 195.471V201.452C36.5629 202.556 35.6675 203.452 34.5629 203.452H26.3223C25.2177 203.452 24.3223 202.556 24.3223 201.452V195.471Z" fill="#B1B1B1"/>
        <path d="M40.0603 156.976C40.0603 155.871 40.9557 154.976 42.0603 154.976H50.3009C51.4055 154.976 52.3009 155.871 52.3009 156.976V162.956C52.3009 164.061 51.4055 164.956 50.3009 164.956H42.0603C40.9557 164.956 40.0603 164.061 40.0603 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M40.0603 169.808C40.0603 168.703 40.9557 167.808 42.0603 167.808H50.3009C51.4055 167.808 52.3009 168.703 52.3009 169.808V175.788C52.3009 176.893 51.4055 177.788 50.3009 177.788H42.0603C40.9557 177.788 40.0603 176.893 40.0603 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M40.0603 182.64C40.0603 181.535 40.9557 180.64 42.0603 180.64H50.3009C51.4055 180.64 52.3009 181.535 52.3009 182.64V188.62C52.3009 189.725 51.4055 190.62 50.3009 190.62H42.0603C40.9557 190.62 40.0603 189.725 40.0603 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M40.0603 195.471C40.0603 194.367 40.9557 193.471 42.0603 193.471H50.3009C51.4055 193.471 52.3009 194.367 52.3009 195.471V201.452C52.3009 202.556 51.4055 203.452 50.3009 203.452H42.0603C40.9557 203.452 40.0603 202.556 40.0603 201.452V195.471Z" fill="#B1B1B1"/>
        <path d="M55.7982 156.976C55.7982 155.871 56.6936 154.976 57.7982 154.976H66.0389C67.1434 154.976 68.0389 155.871 68.0389 156.976V162.956C68.0389 164.061 67.1434 164.956 66.0389 164.956H57.7982C56.6937 164.956 55.7982 164.061 55.7982 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M55.7982 169.808C55.7982 168.703 56.6936 167.808 57.7982 167.808H66.0389C67.1434 167.808 68.0389 168.703 68.0389 169.808V175.788C68.0389 176.893 67.1434 177.788 66.0389 177.788H57.7982C56.6937 177.788 55.7982 176.893 55.7982 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M55.7982 182.64C55.7982 181.535 56.6936 180.64 57.7982 180.64H66.0389C67.1434 180.64 68.0389 181.535 68.0389 182.64V188.62C68.0389 189.725 67.1434 190.62 66.0389 190.62H57.7982C56.6937 190.62 55.7982 189.725 55.7982 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M55.7982 195.471C55.7982 194.367 56.6936 193.471 57.7982 193.471H66.0389C67.1434 193.471 68.0389 194.367 68.0389 195.471V201.452C68.0389 202.556 67.1434 203.452 66.0389 203.452H57.7982C56.6937 203.452 55.7982 202.556 55.7982 201.452V195.471Z" fill="#B1B1B1"/>
        <path d="M71.5363 156.976C71.5363 155.871 72.4317 154.976 73.5363 154.976H81.7769C82.8815 154.976 83.7769 155.871 83.7769 156.976V162.956C83.7769 164.061 82.8815 164.956 81.7769 164.956H73.5363C72.4317 164.956 71.5363 164.061 71.5363 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M71.5363 169.808C71.5363 168.703 72.4317 167.808 73.5363 167.808H81.7769C82.8815 167.808 83.7769 168.703 83.7769 169.808V175.788C83.7769 176.893 82.8815 177.788 81.7769 177.788H73.5363C72.4317 177.788 71.5363 176.893 71.5363 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M71.5363 182.64C71.5363 181.535 72.4317 180.64 73.5363 180.64H81.7769C82.8815 180.64 83.7769 181.535 83.7769 182.64V188.62C83.7769 189.725 82.8815 190.62 81.7769 190.62H73.5363C72.4317 190.62 71.5363 189.725 71.5363 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M71.5363 195.471C71.5363 194.367 72.4317 193.471 73.5363 193.471H81.7769C82.8815 193.471 83.7769 194.367 83.7769 195.471V201.452C83.7769 202.556 82.8815 203.452 81.7769 203.452H73.5363C72.4317 203.452 71.5363 202.556 71.5363 201.452V195.471Z" fill="#B1B1B1"/>
      </svg>
    `;
  }
}

// Locker Grid Manager - GIỮ NGUYÊN
class LockerGrid {
  constructor() {
    this.lockers = [];
    this.initializeLockers();
  }

  initializeLockers() {
    const lockerConfigs = [
      // Row 1
      { partNumber: 1, left: '0px', top: '50px', points: 1000, status: 'available' },
      { partNumber: 2, left: '130px', top: '50px', points: 1000, status: 'available' },
      { partNumber: 3, left: '260px', top: '50px', points: 1000, status: 'occupied' },
      { partNumber: 4, left: '390px', top: '50px', points: 1000, status: 'available' },
      { partNumber: 5, left: '520px', top: '50px', points: 1500, status: 'available' },
      
      // Row 2
      { partNumber: 6, left: '0px', top: '170px', points: 1000, status: 'available' },
      { partNumber: 7, left: '130px', top: '170px', points: 1000, status: 'available' },
      { partNumber: 8, left: '260px', top: '170px', points: 1000, status: 'available' },
      { partNumber: 9, left: '390px', top: '170px', points: 1000, status: 'available' },
      
      // Row 3
      { partNumber: 10, left: '0px', top: '290px', points: 1000, status: 'available' },
      { partNumber: 12, left: '130px', top: '290px', points: 1000, status: 'available' },
      { partNumber: 13, left: '260px', top: '290px', points: 1000, status: 'available' },
      { partNumber: 14, left: '390px', top: '290px', points: 1000, status: 'occupied' },
      
      // Row 4
      { partNumber: 16, left: '0px', top: '410px', points: 1000, status: 'available' },
      { partNumber: 17, left: '130px', top: '410px', points: 1000, status: 'available' },
      { partNumber: 18, left: '260px', top: '410px', points: 1000, status: 'occupied' },
      { partNumber: 19, left: '390px', top: '410px', points: 1000, status: 'available' },
      { partNumber: 20, left: '520px', top: '410px', points: 1000, status: 'available' },
      //Row5
      { partNumber: 21, left: '0px', top: '530px', points: 1000, status: 'available' },
      { partNumber: 22, left: '130px', top: '530px', points: 1000, status: 'available' },
      { partNumber: 23, left: '260px', top: '530px', points: 1000, status: 'occupied' },
      { partNumber: 24, left: '390px', top: '530px', points: 1000, status: 'available' },
      { partNumber: 25, left: '520px', top: '530px', points: 1000, status: 'available' },
    ];

    this.lockers = lockerConfigs.map(config => new LockerItem(config));
  }

  render(containerId) {
    const container = document.getElementById(containerId);
    if (container) {
      // container.innerHTML = this.lockers.map(locker => locker.render()).join('');
      container.innerHTML = this.lockers.map(locker => locker.render()).join('') + this.renderScreen();
    }
  }
  renderScreen(){
    return `
    <div id="screen-display" style="position: absolute; left: 567px; top: 170px; width: 125px; height: 228px; z-index: 100;">
      <svg width="109" height="213" viewBox="0 0 109 213" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
        <path d="M0 10C0 4.47716 4.47715 0 10 0H99C104.523 0 109 4.47715 109 10V203C109 208.523 104.523 213 99 213H10C4.47715 213 0 208.523 0 203V10Z" fill="#E8E2E2"/>
        <path d="M3.60327 18.8138C3.60327 13.291 8.08042 8.81384 13.6033 8.81384H95.3967C100.92 8.81384 105.397 13.291 105.397 18.8138V134.693C105.397 140.216 100.92 144.693 95.3967 144.693H13.6033C8.08041 144.693 3.60327 140.216 3.60327 134.693V18.8138Z" fill="black"/>
        <ellipse cx="54.4999" cy="4.77418" rx="3.15289" ry="2.57069" fill="black"/>
        <path d="M24.3223 156.976C24.3223 155.871 25.2177 154.976 26.3223 154.976H34.5629C35.6675 154.976 36.5629 155.871 36.5629 156.976V162.956C36.5629 164.061 35.6675 164.956 34.5629 164.956H26.3223C25.2177 164.956 24.3223 164.061 24.3223 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M24.3223 169.808C24.3223 168.703 25.2177 167.808 26.3223 167.808H34.5629C35.6675 167.808 36.5629 168.703 36.5629 169.808V175.788C36.5629 176.893 35.6675 177.788 34.5629 177.788H26.3223C25.2177 177.788 24.3223 176.893 24.3223 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M24.3223 182.64C24.3223 181.535 25.2177 180.64 26.3223 180.64H34.5629C35.6675 180.64 36.5629 181.535 36.5629 182.64V188.62C36.5629 189.725 35.6675 190.62 34.5629 190.62H26.3223C25.2177 190.62 24.3223 189.725 24.3223 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M24.3223 195.471C24.3223 194.367 25.2177 193.471 26.3223 193.471H34.5629C35.6675 193.471 36.5629 194.367 36.5629 195.471V201.452C36.5629 202.556 35.6675 203.452 34.5629 203.452H26.3223C25.2177 203.452 24.3223 202.556 24.3223 201.452V195.471Z" fill="#B1B1B1"/>
        <path d="M40.0603 156.976C40.0603 155.871 40.9557 154.976 42.0603 154.976H50.3009C51.4055 154.976 52.3009 155.871 52.3009 156.976V162.956C52.3009 164.061 51.4055 164.956 50.3009 164.956H42.0603C40.9557 164.956 40.0603 164.061 40.0603 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M40.0603 169.808C40.0603 168.703 40.9557 167.808 42.0603 167.808H50.3009C51.4055 167.808 52.3009 168.703 52.3009 169.808V175.788C52.3009 176.893 51.4055 177.788 50.3009 177.788H42.0603C40.9557 177.788 40.0603 176.893 40.0603 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M40.0603 182.64C40.0603 181.535 40.9557 180.64 42.0603 180.64H50.3009C51.4055 180.64 52.3009 181.535 52.3009 182.64V188.62C52.3009 189.725 51.4055 190.62 50.3009 190.62H42.0603C40.9557 190.62 40.0603 189.725 40.0603 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M40.0603 195.471C40.0603 194.367 40.9557 193.471 42.0603 193.471H50.3009C51.4055 193.471 52.3009 194.367 52.3009 195.471V201.452C52.3009 202.556 51.4055 203.452 50.3009 203.452H42.0603C40.9557 203.452 40.0603 202.556 40.0603 201.452V195.471Z" fill="#B1B1B1"/>
        <path d="M55.7982 156.976C55.7982 155.871 56.6936 154.976 57.7982 154.976H66.0389C67.1434 154.976 68.0389 155.871 68.0389 156.976V162.956C68.0389 164.061 67.1434 164.956 66.0389 164.956H57.7982C56.6937 164.956 55.7982 164.061 55.7982 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M55.7982 169.808C55.7982 168.703 56.6936 167.808 57.7982 167.808H66.0389C67.1434 167.808 68.0389 168.703 68.0389 169.808V175.788C68.0389 176.893 67.1434 177.788 66.0389 177.788H57.7982C56.6937 177.788 55.7982 176.893 55.7982 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M55.7982 182.64C55.7982 181.535 56.6936 180.64 57.7982 180.64H66.0389C67.1434 180.64 68.0389 181.535 68.0389 182.64V188.62C68.0389 189.725 67.1434 190.62 66.0389 190.62H57.7982C56.6937 190.62 55.7982 189.725 55.7982 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M55.7982 195.471C55.7982 194.367 56.6936 193.471 57.7982 193.471H66.0389C67.1434 193.471 68.0389 194.367 68.0389 195.471V201.452C68.0389 202.556 67.1434 203.452 66.0389 203.452H57.7982C56.6937 203.452 55.7982 202.556 55.7982 201.452V195.471Z" fill="#B1B1B1"/>
        <path d="M71.5363 156.976C71.5363 155.871 72.4317 154.976 73.5363 154.976H81.7769C82.8815 154.976 83.7769 155.871 83.7769 156.976V162.956C83.7769 164.061 82.8815 164.956 81.7769 164.956H73.5363C72.4317 164.956 71.5363 164.061 71.5363 162.956V156.976Z" fill="#B1B1B1"/>
        <path d="M71.5363 169.808C71.5363 168.703 72.4317 167.808 73.5363 167.808H81.7769C82.8815 167.808 83.7769 168.703 83.7769 169.808V175.788C83.7769 176.893 82.8815 177.788 81.7769 177.788H73.5363C72.4317 177.788 71.5363 176.893 71.5363 175.788V169.808Z" fill="#B1B1B1"/>
        <path d="M71.5363 182.64C71.5363 181.535 72.4317 180.64 73.5363 180.64H81.7769C82.8815 180.64 83.7769 181.535 83.7769 182.64V188.62C83.7769 189.725 82.8815 190.62 81.7769 190.62H73.5363C72.4317 190.62 71.5363 189.725 71.5363 188.62V182.64Z" fill="#B1B1B1"/>
        <path d="M71.5363 195.471C71.5363 194.367 72.4317 193.471 73.5363 193.471H81.7769C82.8815 193.471 83.7769 194.367 83.7769 195.471V201.452C83.7769 202.556 82.8815 203.452 81.7769 203.452H73.5363C72.4317 203.452 71.5363 202.556 71.5363 201.452V195.471Z" fill="#B1B1B1"/>
      </svg>
    </div>
  `;
  }

  updateLockerStatus(partNumber, status) {
    const locker = this.lockers.find(l => l.partNumber === partNumber);
    if (locker) {
      locker.status = status;
      this.render('locker-grid');
    }
  }

  getAvailableLockers() {
    return this.lockers.filter(l => l.status === 'available');
  }
}

// Initialize Locker Grid when DOM is ready
function initLockerGrid() {
  const lockerGrid = new LockerGrid();
  lockerGrid.render('locker-grid');
  
  console.log('Locker grid initialized with', lockerGrid.lockers.length, 'lockers');
}